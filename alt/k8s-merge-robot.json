{"Add": 58287, "Del": 33028, "Name": "k8s-merge-robot", "children": [{"Add": 58287, "Del": 33028, "Name": "kubernetes", "children": [{"Add": 58, "Del": 0, "Name": "kubeadm-annotate-cri"}, {"Add": 58, "Del": 0, "Name": "kubeadm-annotate-cri"}, {"Add": 58, "Del": 0, "Name": "Merge pull request #68449 from fabriziopandini/kubeadm-annotate-cri\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nkubeadm: add mandatory phase \"annotate-cri\"\n\n**What this PR does / why we need it**:\r\nIn v1.12, after the changing how kubeadm-config upload/fetch, AnnotateCRISocket is now a necessary step for getting a cluster that can be upgraded using phases. This PR adds a new subcommand for letting users to invoke AnnotateCRISocket as a phase\r\n\r\n**Which issue(s) this PR fixes**:\r\nFixes # https://github.com/kubernetes/kubeadm/issues/925\r\n\r\n**Special notes for your reviewer**:\r\nWhen testing this PR, I found that one of the tests on component config defaulting was broken (didn't have time to investigate why yet). This PR fixes this test as well  \r\n\r\n**Release note**:\r\n```release-note\r\nkubeadm: added phase command \"alpha phase kubelet config annotate-cri\"\r\n```\r\n@kubernetes/sig-cluster-lifecycle-pr-reviews\r\n/sig cluster-lifecycle\r\n/area kubeadm\r\n/assign @timothysc @neolit123 \r\n/kind bug"}, {"Add": 15, "Del": 13, "Name": "update cloud provider deprecation notice"}, {"Add": 15, "Del": 13, "Name": "update cloud provider deprecation notice"}, {"Add": 15, "Del": 13, "Name": "Merge pull request #68236 from andrewsykim/cloud-provider-updates\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nupdate cloud provider deprecation notice\n\n**What this PR does / why we need it**:\r\nUpdates cloud provider deprecation warning to clearly outline intentions set by sig cloud provider. \r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes # https://github.com/kubernetes/kubernetes/issues/68234\r\n\r\n**Special notes for your reviewer**:\r\nalso removed some extra white spaces\r\n\r\n```release-note\r\nNONE\r\n```\r\n\r\n/sig cloud-provider\r\ncc @tpepper"}, {"Add": 181, "Del": 115, "Name": "Added unschedulable and network-unavailable toleration.\n\nSigned-off-by: Da K. Ma <klaus1982.cn@gmail.com>"}, {"Add": 181, "Del": 115, "Name": "Added unschedulable and network-unavailable toleration.\n\nSigned-off-by: Da K. Ma <klaus1982.cn@gmail.com>"}, {"Add": 181, "Del": 115, "Name": "Merge pull request #64954 from k82cn/k8s_61312_2\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nAdded unschedulable and network-unavailable toleration.\n\nSigned-off-by: Da K. Ma <klaus1982.cn@gmail.com>\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\npart of #61312\r\nfixes: https://github.com/kubernetes/kubernetes/issues/67606\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nIf `TaintNodesByCondition` is enabled, add `node.kubernetes.io/unschedulable` and\r\n `node.kubernetes.io/network-unavailable` automatically to DaemonSet pods.\r\n```"}, {"Add": 78, "Del": 8, "Name": "Add a completely populated yaml InitConfig to the v1lapha3 dodoc"}, {"Add": 78, "Del": 8, "Name": "Add a completely populated yaml InitConfig to the v1lapha3 dodoc"}, {"Add": 78, "Del": 8, "Name": "Merge pull request #68361 from liztio/godoc-kubeadm-v1alpha3\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nAdd a completely populated yaml InitConfig to the v1lapha3 dodoc\n\n**What this PR does / why we need it**:\r\nThe existing docs are located in [k/website][website], which means it's difficult to keep them up to date. Having an example next to the code will make it much easier to update the docs in lockstep with spec changes.\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes kubernetes/kubeadm#1085\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 2, "Del": 0, "Name": "Deprecate cloudstack and ovirt controller projects\n\nChange-Id: Icca9142940269ad1cd28f1f3491684a1bc626c55"}, {"Add": 2, "Del": 0, "Name": "Deprecate cloudstack and ovirt controller projects\n\nChange-Id: Icca9142940269ad1cd28f1f3491684a1bc626c55"}, {"Add": 2, "Del": 0, "Name": "Merge pull request #68199 from dims/deprecate-more-cloud-providers\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nDeprecate cloudstack and ovirt controller projects\n\nChange-Id: Icca9142940269ad1cd28f1f3491684a1bc626c55\r\n\r\n\r\n\r\n**What this PR does / why we need it**:\r\nDo we have folks invested in these providers trying to work on the external controllers for these providers? Is there a future for these providers? If not can we deprecate and eventually remove them?\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #\r\n\r\n**Special notes for your reviewer**:\r\ncc @ngtuna @sebgoa @svanharmelen (for cloudstack)\r\ncc @simon3z \r\n\r\n**Release note**:\r\n\r\n```release-note\r\nDeprecate cloudstack and ovirt controllers\r\n```"}, {"Add": 3, "Del": 0, "Name": "add missing LastTransitionTime of ContainerReady condition"}, {"Add": 3, "Del": 0, "Name": "add missing LastTransitionTime of ContainerReady condition"}, {"Add": 3, "Del": 0, "Name": "Merge pull request #64867 from dixudx/missing_container_ready_ltt\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nadd missing LastTransitionTime of ContainerReady condition\n\n**What this PR does / why we need it**:\r\nadd missing LastTransitionTime of ContainerReady condition\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nxref #64646\r\n\r\n**Special notes for your reviewer**:\r\n/cc freehan yujuhong\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nadd missing LastTransitionTime of ContainerReady condition\r\n```"}, {"Add": 585, "Del": 0, "Name": "Initial node performance testing framework."}, {"Add": 585, "Del": 0, "Name": "Initial node performance testing framework."}, {"Add": 585, "Del": 0, "Name": "Merge pull request #65250 from balajismaniam/node-perf-testing-framework\n\nAutomatic merge from submit-queue (batch tested with PRs 65250, 68241). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nInitial node performance testing framework.\n\nThis PR adds a framework for node performance testing. \r\nPartially fixes: https://github.com/kubernetes/kubernetes/issues/65249.\r\nUse the following command to run this test:\r\n```sh\r\nmake test-e2e-node FOCUS=\"Node Performance Testing\" SKIP=\"\" PARALLELISM=1\r\n```\r\nIt has been tested in the following environment:\r\n- n1-standard-16\r\n- Ubuntu 16.04\r\n- docker 17.03.2\r\n\r\nNote to reviewers:\r\nThis PR won't pass node e2e since the docker images in https://github.com/kubernetes/kubernetes/pull/65251 are required for this to function. The node e2e will fail when trying to pull the required images for testing."}, {"Add": 178, "Del": 87, "Name": "Use informer cache instead of active pod gets in HPA controller."}, {"Add": 178, "Del": 87, "Name": "Use informer cache instead of active pod gets in HPA controller."}, {"Add": 178, "Del": 87, "Name": "Merge pull request #68241 from krzysztof-jastrzebski/informer\n\nAutomatic merge from submit-queue (batch tested with PRs 65250, 68241). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nUse informer cache instead of active pod gets in HPA controller.\n\n**What this PR does / why we need it**:\r\nUse informer cache instead of active pod gets in HPA controller. \r\n\r\n**Which issue(s) this PR fixes**:\r\nFixes #68217 \r\n\r\n**Release note**:\r\n```release-note\r\nkube-controller-manager: use informer cache instead of active pod gets in HPA controller\r\n```"}, {"Add": 36, "Del": 1, "Name": "implement InstanceShutdownByProviderID for azure"}, {"Add": 36, "Del": 1, "Name": "implement InstanceShutdownByProviderID for azure"}, {"Add": 36, "Del": 1, "Name": "Merge pull request #68033 from yastij/instanceShutdown-azure\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nimplement InstanceShutdownByProviderID for azure\n\n**What this PR does / why we need it**: implements #66265\r\n\r\n**Which issue(s) this PR fixes**: Fixes #66265\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nSupport NodeShutdown taint for azure\r\n```"}, {"Add": 1531, "Del": 289, "Name": "Implemented logic in kubelet for registering node info, including wiring to CSINodeInfo; added unit tests for node updates; updated RBAC, NodeAuthorizer, NodeRestriction."}, {"Add": 1531, "Del": 289, "Name": "Implemented logic in kubelet for registering node info, including wiring to CSINodeInfo; added unit tests for node updates; updated RBAC, NodeAuthorizer, NodeRestriction."}, {"Add": 217, "Del": 116, "Name": "Rearranged feature flags"}, {"Add": 1531, "Del": 289, "Name": "Implemented logic in kubelet for registering node info, including wiring to CSINodeInfo; added unit tests for node updates; updated RBAC, NodeAuthorizer, NodeRestriction."}, {"Add": 217, "Del": 116, "Name": "Rearranged feature flags"}, {"Add": 1643, "Del": 300, "Name": "Merge pull request #67684 from verult/top-csi-driver-registration\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nCSI Node info registration in kubelet\n\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #67683\r\n\r\n**Special notes for your reviewer**:\r\nFeature issue: https://github.com/kubernetes/features/issues/557\r\nDesign doc: https://github.com/kubernetes/community/pull/2034\r\n\r\nMissing pieces:\r\n* CSI client retry and exponential backoff logic.\r\n* CSINodeInfo object validation\r\n* e2e test with all the CSI machinery.\r\n\r\nAn RBAC rule is also added to support external-provisioner topology updates.\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nRegisters volume topology information reported by a node-level Container Storage Interface (CSI) driver. This enables Kubernetes support of CSI topology mechanisms.\r\n```"}, {"Add": 16, "Del": 16, "Name": "vendor: bump github.com/evanphx/json-patch\n\nGrab important bug fix that can cause a `panic()` from this package on\ncertain inputs. See https://github.com/evanphx/json-patch/commit/73af7f547e13ad70d7f7b3388255e7e5eb93adaf\n\nSigned-off-by: Brandon Philips <brandon@ifup.org>"}, {"Add": 16, "Del": 16, "Name": "vendor: bump github.com/evanphx/json-patch\n\nGrab important bug fix that can cause a `panic()` from this package on\ncertain inputs. See https://github.com/evanphx/json-patch/commit/73af7f547e13ad70d7f7b3388255e7e5eb93adaf\n\nSigned-off-by: Brandon Philips <brandon@ifup.org>"}, {"Add": 16, "Del": 16, "Name": "Merge pull request #68428 from philips/bump-json-patch\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nvendor: bump github.com/evanphx/json-patch\n\nGrab important bug fix that can cause a `panic()` from this package on\r\ncertain inputs. See https://github.com/evanphx/json-patch/commit/73af7f547e13ad70d7f7b3388255e7e5eb93adaf\r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 1, "Del": 1, "Name": "Remove feature tag from ScheudulerPreemption tests"}, {"Add": 1, "Del": 1, "Name": "Remove feature tag from ScheudulerPreemption tests"}, {"Add": 1, "Del": 1, "Name": "Merge pull request #68381 from bsalamat/automated-cherry-pick-of-#68380-upstream-release-1.11\n\nAutomatic merge from submit-queue.\n\nAutomated cherry pick of #68380: Remove feature tag from ScheudulerPreemption tests\n\nCherry pick of #68380 on release-1.11.\r\n\r\n#68380: Remove feature tag from ScheudulerPreemption tests\r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 14, "Del": 14, "Name": "Revert \"Automated cherry pick of #67504: Decrease CPU requests of master components in two times.\""}, {"Add": 14, "Del": 14, "Name": "Revert \"Automated cherry pick of #67504: Decrease CPU requests of master components in two times.\""}, {"Add": 14, "Del": 14, "Name": "Merge pull request #68229 from loburm/revert-67590-automated-cherry-pick-of-#67504-upstream-release-1.11\n\nAutomatic merge from submit-queue.\n\nRevert \"Automated cherry pick of #67504: Decrease CPU requests of mas\u2026\n\nThis may break users that run workload on master node, because control plane is going to get two times less resources."}, {"Add": 16, "Del": 20, "Name": "fix eviction test panics"}, {"Add": 16, "Del": 20, "Name": "fix eviction test panics"}, {"Add": 16, "Del": 20, "Name": "Merge pull request #67783 from dashpole/fix_eviction_tests\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nFix eviction test panics\n\n**What this PR does / why we need it**:\r\nhttps://k8s-testgrid.appspot.com/sig-node-kubelet#kubelet-serial-gce-e2e&include-filter-by-regex=EvictionOrdering\r\ne2e_node tests for eviction are failing because the BeforeEach and AfterEach added in are not correctly placed inside of a context. This PR moves the BeforeEach and AfterEach inside the context.\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nIssue: https://github.com/kubernetes/kubernetes/issues/66357\r\n\r\n**Release note**:\r\n```release-note\r\nNONE\r\n```\r\n/sig node \r\n/kind bug\r\n/assign @yujuhong @Random-Liu"}, {"Add": 1, "Del": 1, "Name": "Fix kubeadm token list\n\nAdjust the output of the kubeadm token list."}, {"Add": 1, "Del": 1, "Name": "Fix kubeadm token list\n\nAdjust the output of the kubeadm token list."}, {"Add": 1, "Del": 1, "Name": "Merge pull request #68341 from riverzhang/kubeadm-token-list\n\nAutomatic merge from submit-queue (batch tested with PRs 68341, 68385). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nFix kubeadm token list\n\n**What this PR does / why we need it**:\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #https://github.com/kubernetes/kubeadm/issues/1094\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\n\r\n```"}, {"Add": 7, "Del": 10, "Name": "Fixed error message reporting for Gluster driver tests"}, {"Add": 7, "Del": 10, "Name": "Fixed error message reporting for Gluster driver tests"}, {"Add": 7, "Del": 10, "Name": "Merge pull request #68385 from davidz627/fix/GlusterSubpath\n\nAutomatic merge from submit-queue (batch tested with PRs 68341, 68385). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nFixed error message reporting for Gluster driver tests\n\nQuick fix for error message for Gluster driver tests. This doesn't solve the problem but will make it easier to pinpoint the issue if it flakes again on CI.\r\nRelated to: #68373\r\n\r\n/sig storage\r\n/kind bug\r\n/assign @msau42 \r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 3, "Del": 1, "Name": "Bump ip-masq-agent to v2.1.1 - Update debian-iptables image for CVEs. - Change chain name to IP-MASQ to be compatible with the pre-injected masquerade rules."}, {"Add": 3, "Del": 1, "Name": "Bump ip-masq-agent to v2.1.1 - Update debian-iptables image for CVEs. - Change chain name to IP-MASQ to be compatible with the pre-injected masquerade rules."}, {"Add": 3, "Del": 1, "Name": "Merge pull request #68031 from MrHohn/automated-cherry-pick-of-#67916-upstream-release-1.10\n\nAutomatic merge from submit-queue.\n\nAutomated cherry pick of #67916: Bump ip-masq-agent to v2.1.1\n\nCherry pick of #67916 on release-1.10.\r\n\r\n#67916: Bump ip-masq-agent to v2.1.1 - Update debian-iptables image\r\n\r\n```release-note\r\nBump ip-masq-agent to v2.1.1\r\n- Update debian-iptables image for CVEs.\r\n- Change chain name to IP-MASQ to be compatible with the\r\npre-injected masquerade rules.\r\n```"}, {"Add": 8, "Del": 215, "Name": "Remove e2e-image-puller\n\nA long time ago, We added the image prepulling as a workaround due to\nthe overwhelming amount of flake caused by pulling during the tests.\nThis functionality has been broken for a while now when we switched to a\nCOS image where mounting `docker` binary into `busybox` stopped working.\nSo we just have dead code we should clean up.\n\nChange-Id: I538171a5c1d9361eee7f9e0a99655b88b1721e3e"}, {"Add": 8, "Del": 215, "Name": "Remove e2e-image-puller\n\nA long time ago, We added the image prepulling as a workaround due to\nthe overwhelming amount of flake caused by pulling during the tests.\nThis functionality has been broken for a while now when we switched to a\nCOS image where mounting `docker` binary into `busybox` stopped working.\nSo we just have dead code we should clean up.\n\nChange-Id: I538171a5c1d9361eee7f9e0a99655b88b1721e3e"}, {"Add": 8, "Del": 215, "Name": "Merge pull request #67950 from dims/remove-e2e-image-puller\n\nAutomatic merge from submit-queue (batch tested with PRs 67950, 68195). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nRemove e2e-image-puller\n\n**What this PR does / why we need it**:\r\n\r\nA long time ago, We added the image prepulling as a workaround due to\r\nthe overwhelming amount of flake caused by pulling during the tests.\r\nThis functionality has been broken for a while now when we switched to a\r\nCOS image where mounting `docker` binary into `busybox` stopped working.\r\nSo we just have dead code we should clean up.\r\n\r\nChange-Id: I538171a5c1d9361eee7f9e0a99655b88b1721e3e\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #63355\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 127, "Del": 108, "Name": "Standardize componentconfig code/comment patterns"}, {"Add": 127, "Del": 108, "Name": "Standardize componentconfig code/comment patterns"}, {"Add": 12, "Del": 0, "Name": "Add missing files to staging repos Godeps folders"}, {"Add": 127, "Del": 108, "Name": "Standardize componentconfig code/comment patterns"}, {"Add": 12, "Del": 0, "Name": "Add missing files to staging repos Godeps folders"}, {"Add": 21, "Del": 0, "Name": "Add import-restrictions information for staging repos"}, {"Add": 127, "Del": 108, "Name": "Standardize componentconfig code/comment patterns"}, {"Add": 12, "Del": 0, "Name": "Add missing files to staging repos Godeps folders"}, {"Add": 21, "Del": 0, "Name": "Add import-restrictions information for staging repos"}, {"Add": 3, "Del": 0, "Name": "autogenerated bazel"}, {"Add": 127, "Del": 108, "Name": "Standardize componentconfig code/comment patterns"}, {"Add": 12, "Del": 0, "Name": "Add missing files to staging repos Godeps folders"}, {"Add": 21, "Del": 0, "Name": "Add import-restrictions information for staging repos"}, {"Add": 3, "Del": 0, "Name": "autogenerated bazel"}, {"Add": 163, "Del": 108, "Name": "Merge pull request #68195 from luxas/consolidate_componentconfig_code_standards\n\nAutomatic merge from submit-queue (batch tested with PRs 67950, 68195). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nConsolidate componentconfig code standards\n\n**What this PR does / why we need it**:\r\n\r\nThis PR fixes a bunch of very small misalignments in ComponentConfig packages:\r\n - Add sane comments to all functions/variables in componentconfig `register.go` files\r\n - Make the `register.go` files of componentconfig pkgs follow the same pattern and not differ from each other like they do today.\r\n - Register the `openapi-gen` tag in all `doc.go` files where the pkg contains _external_ types.\r\n - Add the `groupName` tag where missing\r\n - Fix cases where `addKnownTypes` was registered twice in the `SchemeBuilder`\r\n - Add `Readme` and `OWNERS` files to `Godeps` directories if missing.\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\n\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nNONE\r\n```\r\n\r\n/assign @sttts @thockin"}, {"Add": 0, "Del": 4, "Name": "Fix VMWare VM freezing bug by reverting #51066"}, {"Add": 0, "Del": 4, "Name": "Fix VMWare VM freezing bug by reverting #51066"}, {"Add": 0, "Del": 4, "Name": "Merge pull request #68056 from nikopen/automated-cherry-pick-of-#67825-upstream-release-1.9\n\nAutomatic merge from submit-queue.\n\nAutomated cherry pick of #67825: Fix VMWare VM freezing bug by reverting #51066\n\nCherry pick of #67825 on release-1.9.\n\n#67825: Fix VMWare VM freezing bug by reverting #51066"}, {"Add": 0, "Del": 4, "Name": "Fix VMWare VM freezing bug by reverting #51066"}, {"Add": 0, "Del": 4, "Name": "Fix VMWare VM freezing bug by reverting #51066"}, {"Add": 0, "Del": 4, "Name": "Merge pull request #68057 from nikopen/automated-cherry-pick-of-#67825-upstream-release-1.10\n\nAutomatic merge from submit-queue.\n\nAutomated cherry pick of #67825: Fix VMWare VM freezing bug by reverting #51066\n\nCherry pick of #67825 on release-1.10.\n\n#67825: Fix VMWare VM freezing bug by reverting #51066"}, {"Add": 2, "Del": 2, "Name": "Log real file's name and line\n\npkg/kubectl/util/logs & staging/src/k8s.io/apiserver/pkg/util/logs\nuse `glog.info(...)` but this function is not made to be wrapped because\nthe underlying mechanism use a fixed call trace length to determine\nwhere the log has been emited.\n\nThis results is having `logs.go:49` in the logs which is in the body\nof the wrapper function and thus useless.\n\nInstead use `glog.infoDepth(1, ...)` which tells the underlying mechanism\nto go back 1 more level in the call trace to determine where the log\nhas been emitted.\n\nSigned-off-by: Sylvain Rabot <sylvain@abstraction.fr>"}, {"Add": 2, "Del": 2, "Name": "Log real file's name and line\n\npkg/kubectl/util/logs & staging/src/k8s.io/apiserver/pkg/util/logs\nuse `glog.info(...)` but this function is not made to be wrapped because\nthe underlying mechanism use a fixed call trace length to determine\nwhere the log has been emited.\n\nThis results is having `logs.go:49` in the logs which is in the body\nof the wrapper function and thus useless.\n\nInstead use `glog.infoDepth(1, ...)` which tells the underlying mechanism\nto go back 1 more level in the call trace to determine where the log\nhas been emitted.\n\nSigned-off-by: Sylvain Rabot <sylvain@abstraction.fr>"}, {"Add": 2, "Del": 2, "Name": "Merge pull request #67821 from sylr/automated-cherry-pick-of-#67298-sylr-release-1.10\n\nAutomatic merge from submit-queue.\n\nAutomated cherry pick of #67298: Log real file's name and line\n\nCherry pick of #67298 on release-1.10.\n\n#67298: Log real file's name and line"}, {"Add": 33, "Del": 32, "Name": "Update default etcd server to 3.2.24 for kubernetes 1.12\n\nSigned-off-by: Timothy St. Clair <timothysc@gmail.com>"}, {"Add": 33, "Del": 32, "Name": "Update default etcd server to 3.2.24 for kubernetes 1.12\n\nSigned-off-by: Timothy St. Clair <timothysc@gmail.com>"}, {"Add": 33, "Del": 32, "Name": "Merge pull request #68318 from timothysc/etcd-3-2-24\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nUpdate default etcd server to 3.2.24 for kubernetes 1.12\n\n**What this PR does / why we need it**:\r\nUpdate default etcd server to 3.2.24 for kubernetes 1.12\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nxref #68147 \r\n\r\n**Special notes for your reviewer**:\r\nNONE\r\n\r\n**Release note**:\r\n\r\n```\r\nUpdate default etcd server to 3.2.24 for kubernetes 1.12\r\n```\r\n\r\n/assign @wojtek-t @jpbetz @dims \r\n/cc @kubernetes/sig-cluster-lifecycle-pr-reviews @gyuho"}, {"Add": 2, "Del": 2, "Name": "fix metricsStatFS volume path for local volume"}, {"Add": 2, "Del": 2, "Name": "fix metricsStatFS volume path for local volume"}, {"Add": 2, "Del": 2, "Name": "Merge pull request #68320 from NickrenREN/localvolume-metricspath\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nFix metricsStatFS volume path for local volume\n\n**What this PR does / why we need it**:\r\n\r\nFix metricsStatFS volume path for local volume\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n```release-note\r\nNONE\r\n```\r\n\r\n/kind bug\r\n/sig storage\r\n/assign @msau42"}, {"Add": 2, "Del": 4, "Name": "remove feature gate from kubelet defaulting"}, {"Add": 2, "Del": 4, "Name": "remove feature gate from kubelet defaulting"}, {"Add": 2, "Del": 4, "Name": "Merge pull request #68386 from dashpole/fix_alphafeatures\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nRemove feature gate from kubelet defaulting\n\n**What this PR does / why we need it**:\r\nFixes a release-blocking test: https://k8s-testgrid.appspot.com/sig-release-1.12-blocking#gce-cos-1.12-alphafeatures\r\nRegression added by #63437\r\nThis solution was discussed on slack in the sig-release channel\r\nThis should be targeted for 1.12\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nIssue #https://github.com/kubernetes/kubernetes/issues/68313\r\n\r\n**Special notes for your reviewer**:\r\n/hold\r\ntesting to make sure this fixes the issue\r\nUsing: `make test-e2e-node FOCUS=ImageGCNoEviction SKIP= PARALLELISM=1 REMOTE=true TEST_ARGS='--feature-gates=CustomCPUCFSQuotaPeriod=true'` to reproduce the issue, as it runs a test with the feature gate enabled.\r\n\r\n**Release note**:\r\n```release-note\r\nNONE\r\n```\r\n\r\n/assign @dims @derekwaynecarr \r\n/sig node\r\n/kind bug\r\n/priority critical-urgent"}, {"Add": 201, "Del": 6, "Name": "Currently, token manager use keyFunc like: `fmt.Sprintf(\"%q/%q/%#v\", name, namespace, tr.Spec)`.\n\nSince tr.Spec contains point fields, new token request would not reuse\nthe cache at all.  This patch fix this, also adds unit test.\n\nSigned-off-by: Mike Danese <mikedanese@google.com>"}, {"Add": 201, "Del": 6, "Name": "Currently, token manager use keyFunc like: `fmt.Sprintf(\"%q/%q/%#v\", name, namespace, tr.Spec)`.\n\nSince tr.Spec contains point fields, new token request would not reuse\nthe cache at all.  This patch fix this, also adds unit test.\n\nSigned-off-by: Mike Danese <mikedanese@google.com>"}, {"Add": 201, "Del": 6, "Name": "Merge pull request #68119 from WanLinghao/token_controller_cachekey_fix\n\nAutomatic merge from submit-queue (batch tested with PRs 68119, 68191). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nfix token controller keyFunc bug\n\nCurrently, token manager use keyFunc like: `fmt.Sprintf(\"%q/%q/%#v\", name, namespace, tr.Spec)`.\r\nSince tr.Spec contains point fields, new token request would not reuse the cache at all.\r\nThis patch fix this, also adds unit test.\r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 1, "Del": 1, "Name": "Update cluster autoscaler to 1.12.0-beta.1"}, {"Add": 1, "Del": 1, "Name": "Update cluster autoscaler to 1.12.0-beta.1"}, {"Add": 1, "Del": 1, "Name": "Merge pull request #68191 from losipiuk/update-ca-1.12.0-beta.1-master\n\nAutomatic merge from submit-queue (batch tested with PRs 68119, 68191). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nUpdate cluster autoscaler to 1.12.0-beta.1\n\nUpdate Cluster Autoscaler to version 1.12.0-beta.1 which is compatible with k8s 1.12.\r\nNote: this is pre release version. Update to the final version of CA image will be done a week before k8s release deadline.\r\n\r\nVersion skip from 1.3.x to 1.12.x is to synchronize version numbering between Cluster Autoscaler and k8s core.\r\n```release-note\r\nNONE\r\n```"}, {"Add": 59, "Del": 0, "Name": "Update the plugin watcher interface"}, {"Add": 59, "Del": 0, "Name": "Update the plugin watcher interface"}, {"Add": 251, "Del": 126, "Name": "Refactor pluginwatcher to use the new API"}, {"Add": 59, "Del": 0, "Name": "Update the plugin watcher interface"}, {"Add": 251, "Del": 126, "Name": "Refactor pluginwatcher to use the new API"}, {"Add": 304, "Del": 213, "Name": "Update pluginwatcher tests"}, {"Add": 59, "Del": 0, "Name": "Update the plugin watcher interface"}, {"Add": 251, "Del": 126, "Name": "Refactor pluginwatcher to use the new API"}, {"Add": 304, "Del": 213, "Name": "Update pluginwatcher tests"}, {"Add": 31, "Del": 14, "Name": "Updated the CSI pluginwatcher handler"}, {"Add": 59, "Del": 0, "Name": "Update the plugin watcher interface"}, {"Add": 251, "Del": 126, "Name": "Refactor pluginwatcher to use the new API"}, {"Add": 304, "Del": 213, "Name": "Update pluginwatcher tests"}, {"Add": 31, "Del": 14, "Name": "Updated the CSI pluginwatcher handler"}, {"Add": 137, "Del": 121, "Name": "Updated the device manager pluginwatcher handler"}, {"Add": 59, "Del": 0, "Name": "Update the plugin watcher interface"}, {"Add": 251, "Del": 126, "Name": "Refactor pluginwatcher to use the new API"}, {"Add": 304, "Del": 213, "Name": "Update pluginwatcher tests"}, {"Add": 31, "Del": 14, "Name": "Updated the CSI pluginwatcher handler"}, {"Add": 137, "Del": 121, "Name": "Updated the device manager pluginwatcher handler"}, {"Add": 782, "Del": 474, "Name": "Merge pull request #64621 from RenaudWasTaken/pluginwatcher\n\nAutomatic merge from submit-queue (batch tested with PRs 68087, 68256, 64621, 68299, 68296). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nChange plugin watcher registration mechanism\n\n**Which issue(s) this PR fixes**: #64637\r\n\r\n**Notes For Reviewers**:\r\nThe current API the plugin watcher exposes to kubelet is the following:\r\n```golang\r\ntype RegisterCallbackFn func(pluginName string, endpoint string,\r\n                             versions []string, socketPath string) (error, chan bool)\t\r\n```\r\n\r\nThe callback channel is here to signal the plugin watcher consumer when the plugin watcher API has notified the plugin of it's successful registration.\r\nIn other words the current lifecycle of a plugin is the following:\r\n```\r\n(pluginwatcher) GetInfo -> (pluginwatcher) NotifyRegistrationStatus -> (deviceplugin) ListWatch\r\n```\r\nRather than\r\n```\r\n(pluginwatcher) GetInfo (race) -> (pluginwatcher) NotifyRegistrationStatus\r\n                        (race) -> (deviceplugin) ListWatch\r\n```\r\n\r\nThis PR changes the callback/channel mechanism to a more explicit, interfaced based contract (and more maintainable than a function to which we add more channels for more lifecycle events).\r\n\r\nThis PR also introduces three new states: {Init, Register, DeRegister}\r\n```golang\r\n// PluginHandler is an interface a client of the pluginwatcher API needs to implement in\r\n// order to consume plugins\r\n// The PluginHandler follows the simple following state machine:\r\n//\r\n//                         +--------------------------------------+\r\n//                         |            ReRegistration            |\r\n//                         | Socket created with same plugin name |\r\n//                         |                                      |\r\n//                         |                                      |\r\n//    Socket Created       v                                      +        Socket Deleted\r\n// +------------------> Validate +----------> Init +---------> Register +------------------> DeRegister\r\n//                         +                   +                                                +\r\n//                         |                   |                                                |\r\n//                         | Error             | Error                                          |\r\n//                         |                   |                                                |\r\n//                         v                   v                                                v\r\n//                        Out                 Out                                              Out\r\n//\r\n// The pluginwatcher module follows strictly and sequentially this state machine for each *plugin name*.\r\n// e.g: If you are Registering a plugin foo, you cannot get a DeRegister call for plugin foo\r\n//      until the Register(\"foo\") call returns. Nor will you get a Validate(\"foo\", \"Different endpoint\", ...)\r\n//      call until the Register(\"foo\") call returns.\r\n//\r\n// ReRegistration: Socket created with same plugin name, usually for a plugin update\r\n// e.g: plugin with name foo registers at foo.com/foo-1.9.7 later a plugin with name foo\r\n//      registers at foo.com/foo-1.9.9\r\n//\r\n// DeRegistration: When ReRegistration happens only the deletion of the new socket will trigger a DeRegister call\r\n\r\ntype PluginHandler interface {\r\n        // Validate returns an error if the information provided by\r\n        // the potential plugin is erroneous (unsupported version, ...)\r\n        ValidatePlugin(pluginName string, endpoint string, versions []string) error\r\n        // Init starts the plugin (e.g: contact the gRPC client, gets plugin\r\n        // specific information, ...) but if another plugin with the same name\r\n        // exists does not switch to the newer one.\r\n        // Any error encountered here can still be Notified to the plugin.\r\n        InitPlugin(pluginName string, endpoint string) error\r\n        // Register is called once the pluginwatcher has notified the plugin\r\n        // of its successful registration.\r\n        // Errors at this point can no longer be bubbled up to the plugin\r\n        RegisterPlugin(pluginName, endpoint string)\r\n        // DeRegister is called once the pluginwatcher observes that the socket has\r\n        // been deleted.\r\n        DeRegisterPlugin(pluginName string)\r\n}\r\n```\r\n\r\n```release-note\r\nNONE\r\n```\r\n/sig node\r\n/area hw-accelerators\r\n\r\n/cc @jiayingz @vikaschoudhary16 @vishh @vladimirvivien @sbezverk @figo (ccing the main reviewers of the original PR, feel free to cc more people)"}, {"Add": 37, "Del": 3, "Name": "gce: use getrandom instead of urandom for on node rng\n\nIn the context, our urandoms where generally safe, however getrandom has\nbuilt in invariants around entropy pool initialization, making getrandom\nsafe in all contexts. This should protect us from cryptopasta errors or\nweird entropy issues."}, {"Add": 37, "Del": 3, "Name": "gce: use getrandom instead of urandom for on node rng\n\nIn the context, our urandoms where generally safe, however getrandom has\nbuilt in invariants around entropy pool initialization, making getrandom\nsafe in all contexts. This should protect us from cryptopasta errors or\nweird entropy issues."}, {"Add": 37, "Del": 3, "Name": "Merge pull request #68256 from mikedanese/nourand\n\nAutomatic merge from submit-queue (batch tested with PRs 68087, 68256, 64621, 68299, 68296). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\ngce: use getrandom instead of urandom for on node rng\n\n```release-note\r\nNONE\r\n```"}, {"Add": 8, "Del": 4, "Name": "Bump addon-manager to v8.7\n- Support extra `--prune-whitelist` resources in kube-addon-manager.\n- Update kubectl to v1.10.7."}, {"Add": 8, "Del": 4, "Name": "Bump addon-manager to v8.7\n- Support extra `--prune-whitelist` resources in kube-addon-manager.\n- Update kubectl to v1.10.7."}, {"Add": 8, "Del": 4, "Name": "Merge pull request #68299 from MrHohn/addon-manager-v-8-7\n\nAutomatic merge from submit-queue (batch tested with PRs 68087, 68256, 64621, 68299, 68296). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nBump addon-manager to v8.7\n\n**What this PR does / why we need it**:\r\nMajor changes:\r\n- Support extra `--prune-whitelist` resources in kube-addon-manager.\r\n- Update kubectl to v1.10.7.\r\n\r\nBasically picking up https://github.com/kubernetes/kubernetes/pull/67743.\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #NONE\r\n\r\n**Special notes for your reviewer**:\r\n/assign @Random-Liu @mikedanese \r\n\r\n**Release note**:\r\n\r\n```release-note\r\nBump addon-manager to v8.7\r\n- Support extra `--prune-whitelist` resources in kube-addon-manager.\r\n- Update kubectl to v1.10.7.\r\n```"}, {"Add": 170, "Del": 14, "Name": "Fixes using externally managed certs for kubeadm\n\nWalk the certificate tree, at each step checking for a CACert.\nIf the CACert is found, try to use it to generate certificates.\nOtherwise, generate a new CA cert."}, {"Add": 170, "Del": 14, "Name": "Fixes using externally managed certs for kubeadm\n\nWalk the certificate tree, at each step checking for a CACert.\nIf the CACert is found, try to use it to generate certificates.\nOtherwise, generate a new CA cert."}, {"Add": 170, "Del": 14, "Name": "Merge pull request #68296 from liztio/fix-kubeadm-external-certs\n\nAutomatic merge from submit-queue (batch tested with PRs 68087, 68256, 64621, 68299, 68296). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nFixes using externally managed certs for kubeadm\n\n**What this PR does / why we need it**:\r\nThe certificates overhaul caused a regression when using external certificates. This fixes that issue so external CAs no longer require a key if all certificates exist.\r\n\r\nWalk the certificate tree, at each step checking for a CACert.\r\nIf the CACert is found, try to use it to generate certificates.\r\nOtherwise, generate a new CA cert.\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes kubernetes/kubeadm#918\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nExternal CAs can now be used for kubeadm with only a certificate, as long as all required certificates already exist.\r\n```"}, {"Add": 45, "Del": 3, "Name": "Let the service controller retry when presistUpdate returns a conflict error."}, {"Add": 45, "Del": 3, "Name": "Let the service controller retry when presistUpdate returns a conflict error."}, {"Add": 45, "Del": 3, "Name": "Merge pull request #68087 from grayluck/refetch\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nLet the service controller retry when presistUpdate returns a conflict error\n\n**What this PR does / why we need it**:\r\nIf a load balancer is changed while provisioning, it will fall into an error state and will not self-recover.\r\nThis PR picks up the conflict error and let serviceController retry in order to get the load balancer out of error state.\r\n\r\n**Special notes for your reviewer**:\r\n/assign @MrHohn @rramkumar1 \r\n\r\n**Release note**:\r\n\r\n```release-note\r\nLet service controller retry creating load balancer when persistUpdate failed due to conflict.\r\n```"}, {"Add": 2, "Del": 1, "Name": "Replaced hardcoded busybox image in e2e tests."}, {"Add": 2, "Del": 1, "Name": "Replaced hardcoded busybox image in e2e tests."}, {"Add": 2, "Del": 1, "Name": "Merge pull request #61097 from adelina-t/change_hardcoded_busybox_image_in_e2e_tests\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nReplaced hardcoded busybox image in e2e tests\n\nSome e2e tests use hardcoded busybox image. Replaced it with the one defined in \"k8s.io/kubernetes/test/utils/image\". This is relevant to the work of porting e2e tests to Windows k8s clusters.\r\n\r\nRelated to issue #60487\r\n\r\n ```release-note\r\nNONE\r\n ```"}, {"Add": 2, "Del": 0, "Name": "conversion-gen issues with import that are exactly the same\n\nTechnically we don't need this. the instruction below:\n```\n// +k8s:conversion-gen=k8s.io/kubernetes/pkg/controller/apis/config/v1alpha1\n```\nregisters the apiserver/apimachinery packages in the \"package universe\"\nof the conversion-gen program per comment from lucas in PR 68233\n\nHowever it looks like some files that use both packages run into trouble\nand causes failures in CI harness. Attempting here to see if we fix the\norder by specifying them explicitly helps.\n\nChange-Id: I20e9c9256f0b7ffdf4e2101d0ca1fe5090e51344"}, {"Add": 2, "Del": 0, "Name": "conversion-gen issues with import that are exactly the same\n\nTechnically we don't need this. the instruction below:\n```\n// +k8s:conversion-gen=k8s.io/kubernetes/pkg/controller/apis/config/v1alpha1\n```\nregisters the apiserver/apimachinery packages in the \"package universe\"\nof the conversion-gen program per comment from lucas in PR 68233\n\nHowever it looks like some files that use both packages run into trouble\nand causes failures in CI harness. Attempting here to see if we fix the\norder by specifying them explicitly helps.\n\nChange-Id: I20e9c9256f0b7ffdf4e2101d0ca1fe5090e51344"}, {"Add": 2, "Del": 0, "Name": "Merge pull request #68360 from dims/attempt-to-fix-conversion-gen-issues-with-imports-that-are-same\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nconversion-gen issues with import that are exactly the same\n\nTechnically we don't need this. the instruction below:\r\n```\r\n// +k8s:conversion-gen=k8s.io/kubernetes/pkg/controller/apis/config/v1alpha1\r\n```\r\nregisters the apiserver/apimachinery packages in the \"package universe\"\r\nof the conversion-gen program per comment from lucas in PR 68233\r\n\r\nHowever it looks like some files that use both packages run into trouble\r\nand causes failures in CI harness. Attempting here to see if we fix the\r\norder by specifying them explicitly helps.\r\n\r\nChange-Id: I20e9c9256f0b7ffdf4e2101d0ca1fe5090e51344\r\n\r\n\r\n\r\n**What this PR does / why we need it**:\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 2, "Del": 4, "Name": "Cleaning up the cluster directory deprecation notice.\n - Remove link to the kube-deploy repo\n - Remove link to SaltStack"}, {"Add": 2, "Del": 4, "Name": "Cleaning up the cluster directory deprecation notice.\n - Remove link to the kube-deploy repo\n - Remove link to SaltStack"}, {"Add": 2, "Del": 4, "Name": "Merge pull request #68280 from roberthbailey/cluster-deprecation-notice\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nCleaning up the cluster directory deprecation notice\n\n- Remove link to the kube-deploy repo\r\n - Remove link to SaltStack\r\n\r\n**What this PR does / why we need it**:\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 25, "Del": 19, "Name": "support cross resource group for azure file\n\nfix test failure\n\nfix build failure"}, {"Add": 25, "Del": 19, "Name": "support cross resource group for azure file\n\nfix test failure\n\nfix build failure"}, {"Add": 25, "Del": 19, "Name": "Merge pull request #68183 from andyzhangx/automated-cherry-pick-of-#68117-upstream-release-1.10\n\nAutomatic merge from submit-queue.\n\nAutomated cherry pick of #68117: support cross resource group for azure file\n\nCherry pick of #68117 on release-1.10.\n\n#68117: support cross resource group for azure file"}, {"Add": 36, "Del": 8, "Name": "apiserver: forward panic in WithTimeout filter"}, {"Add": 36, "Del": 8, "Name": "apiserver: forward panic in WithTimeout filter"}, {"Add": 36, "Del": 8, "Name": "Merge pull request #68009 from sttts/automated-cherry-pick-of-#68001-release-1.10\n\nAutomatic merge from submit-queue.\n\nAutomated cherry pick of #68001: apiserver: forward panic in WithTimeout filter\n\nCherry pick of #68001 on release-1.10.\n\n#68001: apiserver: forward panic in WithTimeout filter"}, {"Add": 1, "Del": 1, "Name": "Cluster Autoscaler 1.2.3"}, {"Add": 1, "Del": 1, "Name": "Cluster Autoscaler 1.2.3"}, {"Add": 1, "Del": 1, "Name": "Merge pull request #68348 from losipiuk/lo/ca-1.2.3\n\nAutomatic merge from submit-queue.\n\nCluster Autoscaler 1.2.3\n\n```release-note\r\nCluster Autoscaler 1.2.3 (release notes: https://github.com/kubernetes/autoscaler/releases/tag/cluster-autoscaler-1.2.3)\r\n```"}, {"Add": 68, "Del": 15, "Name": "Resolves #59015, extends existing regex to cover t3, r5(d) & z1d instance types\n\nFrom current AWS documentation:\n\nhttps://docs.aws.amazon.com/AWSEC2/latest/UserGuide/volume_limits.html\n\nT3, C5, C5d, M5, M5d, R5, R5d, and z1d instances support a maximum of\n28 attachments, and every instance has at least one network interface\nattachment. If you have no additional network interface attachments on\nthese instances, you could attach 27 EBS volumes."}, {"Add": 68, "Del": 15, "Name": "Resolves #59015, extends existing regex to cover t3, r5(d) & z1d instance types\n\nFrom current AWS documentation:\n\nhttps://docs.aws.amazon.com/AWSEC2/latest/UserGuide/volume_limits.html\n\nT3, C5, C5d, M5, M5d, R5, R5d, and z1d instances support a maximum of\n28 attachments, and every instance has at least one network interface\nattachment. If you have no additional network interface attachments on\nthese instances, you could attach 27 EBS volumes."}, {"Add": 68, "Del": 15, "Name": "Merge pull request #68239 from cuppett/issue-59015\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nResolves #59015, Scheduler: Add support for EBS types t3, r5, & z1d\n\nFixes #59015\r\n\r\nThe new t3, r5, r5d and z1 need matched as well according to this:\r\n\r\nFrom current AWS documentation:\r\n\r\nhttps://docs.aws.amazon.com/AWSEC2/latest/UserGuide/volume_limits.html\r\n\r\nT3, C5, C5d, M5, M5d, R5, R5d, and z1d instances support a maximum of\r\n28 attachments, and every instance has at least one network interface\r\nattachment. If you have no additional network interface attachments on\r\nthese instances, you could attach 27 EBS volumes.\r\n\r\n**Release note**:\r\n\r\n```NONE\r\n\r\n```"}, {"Add": 8, "Del": 2, "Name": "Fix gce localssd pv tests"}, {"Add": 8, "Del": 2, "Name": "Fix gce localssd pv tests"}, {"Add": 8, "Del": 2, "Name": "Merge pull request #68312 from msau42/fix-e2e\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nFix gce localssd pv tests\n\n**What this PR does / why we need it**:\r\nWhen running local PV tests against GCE local SSD, it directly uses the disk so doesn't need to create a tmp dir like the other test formats.  Fsgroup tests do not create test-file so don't error on cleanup if the file doesn't exist.\r\n\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #68308\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 137, "Del": 85, "Name": "Kubelet: only sync iptables on linux"}, {"Add": 137, "Del": 85, "Name": "Kubelet: only sync iptables on linux"}, {"Add": 434, "Del": 398, "Name": "Fix unit tests for Windows\n\n* TestMakeBlockVolume is moved to Linux only.\n* TestMakeMounts are running on both Linux and Windows"}, {"Add": 137, "Del": 85, "Name": "Kubelet: only sync iptables on linux"}, {"Add": 434, "Del": 398, "Name": "Fix unit tests for Windows\n\n* TestMakeBlockVolume is moved to Linux only.\n* TestMakeMounts are running on both Linux and Windows"}, {"Add": 571, "Del": 483, "Name": "Merge pull request #67690 from feiskyer/iptables-cross\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nKubelet: only sync iptables on linux\n\n**What this PR does / why we need it**:\r\n\r\nIptables is only supported on Linux, kubelet should only sync NAT rules on Linux.\r\n\r\nWithout this PR, Kubelet on Windows would logs following errors on each `syncNetworkUtil()`:\r\n\r\n```\r\nkubelet.err.log:4692:E0711 22:03:42.103939    2872 kubelet_network.go:102] Failed to ensure that nat chain KUBE-MARK-DROP exists: error creating chain \"KUBE-MARK-DROP\": executable file\r\n```\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #65713\r\n\r\n**Special notes for your reviewer**:\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nKubelet now only sync iptables on Linux.\r\n```"}, {"Add": 6, "Del": 6, "Name": "Update to rules_go 0.15.3 and latest k8s.io/repo-infra"}, {"Add": 6, "Del": 6, "Name": "Update to rules_go 0.15.3 and latest k8s.io/repo-infra"}, {"Add": 3, "Del": 3, "Name": "Update to rules_docker v0.5.1"}, {"Add": 6, "Del": 6, "Name": "Update to rules_go 0.15.3 and latest k8s.io/repo-infra"}, {"Add": 3, "Del": 3, "Name": "Update to rules_docker v0.5.1"}, {"Add": 1, "Del": 1, "Name": "Update to use latest busybox"}, {"Add": 6, "Del": 6, "Name": "Update to rules_go 0.15.3 and latest k8s.io/repo-infra"}, {"Add": 3, "Del": 3, "Name": "Update to rules_docker v0.5.1"}, {"Add": 1, "Del": 1, "Name": "Update to use latest busybox"}, {"Add": 4, "Del": 2, "Name": "Set gazelle:proto disable_global"}, {"Add": 6, "Del": 6, "Name": "Update to rules_go 0.15.3 and latest k8s.io/repo-infra"}, {"Add": 3, "Del": 3, "Name": "Update to rules_docker v0.5.1"}, {"Add": 1, "Del": 1, "Name": "Update to use latest busybox"}, {"Add": 4, "Del": 2, "Name": "Set gazelle:proto disable_global"}, {"Add": 9175, "Del": 5685, "Name": "Update to gazelle 0.14.0 and run hack/update-bazel.sh"}, {"Add": 6, "Del": 6, "Name": "Update to rules_go 0.15.3 and latest k8s.io/repo-infra"}, {"Add": 3, "Del": 3, "Name": "Update to rules_docker v0.5.1"}, {"Add": 1, "Del": 1, "Name": "Update to use latest busybox"}, {"Add": 4, "Del": 2, "Name": "Set gazelle:proto disable_global"}, {"Add": 9175, "Del": 5685, "Name": "Update to gazelle 0.14.0 and run hack/update-bazel.sh"}, {"Add": 3, "Del": 4, "Name": "Use the $GO_GENRULE_EXECROOT env var set by go_genrule"}, {"Add": 6, "Del": 6, "Name": "Update to rules_go 0.15.3 and latest k8s.io/repo-infra"}, {"Add": 3, "Del": 3, "Name": "Update to rules_docker v0.5.1"}, {"Add": 1, "Del": 1, "Name": "Update to use latest busybox"}, {"Add": 4, "Del": 2, "Name": "Set gazelle:proto disable_global"}, {"Add": 9175, "Del": 5685, "Name": "Update to gazelle 0.14.0 and run hack/update-bazel.sh"}, {"Add": 3, "Del": 4, "Name": "Use the $GO_GENRULE_EXECROOT env var set by go_genrule"}, {"Add": 9192, "Del": 5701, "Name": "Merge pull request #67911 from ixdy/update-bazel-deps\n\nAutomatic merge from submit-queue. If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nUpdate bazel deps\n\n**What this PR does / why we need it**: updates relevant bazel dependencies to pull in minor feature enhancements and bug fixes:\r\n* rules_go 0.15.3: some speed improvements and better compatibility on Windows and Mac, among other bugfixes / enhancements\r\n* repo-infra: fixes needed to support rules_go 0.15.1, and also a fix for https://github.com/kubernetes/kubernetes/pull/65501#issuecomment-400761696\r\n* rules_docker v0.5.1: various enhancements/fixes, but we need this to support new manifest lists from upstream\r\n* busybox latest: we last updated this a while ago. since Docker hub now uses manifest lists for core images like this, we needed the rules_docker update\r\n* gazelle 0.14.0: among other enhancements, adds a feature to remove the need to build protoc for every build, which we aren't even using.\r\n\r\n**Special notes for your reviewer**:\r\nDepends on https://github.com/kubernetes/repo-infra/pull/81. I believe we also need bazel 0.16+.\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nNONE\r\n```"}, {"Add": 1, "Del": 1, "Name": "67803: CSI Cluster Registry and Node Info CRDs"}, {"Add": 1, "Del": 1, "Name": "67803: CSI Cluster Registry and Node Info CRDs"}, {"Add": 7, "Del": 0, "Name": "Add feature for pod information in NodePublish"}, {"Add": 1, "Del": 1, "Name": "67803: CSI Cluster Registry and Node Info CRDs"}, {"Add": 7, "Del": 0, "Name": "Add feature for pod information in NodePublish"}, {"Add": 1, "Del": 1, "Name": "Add new RBAC rules for CSIDriver\n\nNodes need to watch CSIDrivers to know if they should send pod information\nin NodePublish."}, {"Add": 1, "Del": 1, "Name": "67803: CSI Cluster Registry and Node Info CRDs"}, {"Add": 7, "Del": 0, "Name": "Add feature for pod information in NodePublish"}, {"Add": 1, "Del": 1, "Name": "Add new RBAC rules for CSIDriver\n\nNodes need to watch CSIDrivers to know if they should send pod information\nin NodePublish."}, {"Add": 52, "Del": 0, "Name": "Pass pod information in CSI NodePublish attributes."}, {"Add": 1, "Del": 1, "Name": "67803: CSI Cluster Registry and Node Info CRDs"}, {"Add": 7, "Del": 0, "Name": "Add feature for pod information in NodePublish"}, {"Add": 1, "Del": 1, "Name": "Add new RBAC rules for CSIDriver\n\nNodes need to watch CSIDrivers to know if they should send pod information\nin NodePublish."}, {"Add": 52, "Del": 0, "Name": "Pass pod information in CSI NodePublish attributes."}, {"Add": 210, "Del": 94, "Name": "Add unit tests for pod information in NodePublish\n\nSome refactoring of CSI tests was necessary."}, {"Add": 1, "Del": 1, "Name": "67803: CSI Cluster Registry and Node Info CRDs"}, {"Add": 7, "Del": 0, "Name": "Add feature for pod information in NodePublish"}, {"Add": 1, "Del": 1, "Name": "Add new RBAC rules for CSIDriver\n\nNodes need to watch CSIDrivers to know if they should send pod information\nin NodePublish."}, {"Add": 52, "Del": 0, "Name": "Pass pod information in CSI NodePublish attributes."}, {"Add": 210, "Del": 94, "Name": "Add unit tests for pod information in NodePublish\n\nSome refactoring of CSI tests was necessary."}, {"Add": 268, "Del": 93, "Name": "Merge pull request #67945 from jsafrane/csi-workload-csidriver3-saad\n\nAutomatic merge from submit-queue (batch tested with PRs 68171, 67945, 68233). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nCSI pod information in NodePublish\n\n**What this PR does / why we need it**:\r\nThis is implementation of https://github.com/kubernetes/community/pull/2439. It brings CSI closer to Flex volume features, CSI driver can (optionally) get name/namespace/UID/ServiceAccount of the pod that requires the CSI volume mounted. This allows CSI drivers to either do AAA before the volume is mounted or tailor content of  volume to the pod.\r\n\r\nWork in progress:\r\n  * contains #67803 to get `CSIDriver` API. Ignore the first commit.\r\n\r\nRelated to #64984 #66362 (fixes only part of these issues)\r\n\r\n/sig storage\r\n\r\ncc: @saad-ali @vladimirvivien @verult @msau42 @gnufied \r\n\r\n**Release note**:\r\n\r\n```release-note\r\nCSI NodePublish call can optionally contain information about the pod that requested the CSI volume.\r\n```"}, {"Add": 9, "Del": 0, "Name": "verifying LimitRange update is effective before creating new pod"}, {"Add": 9, "Del": 0, "Name": "verifying LimitRange update is effective before creating new pod"}, {"Add": 9, "Del": 0, "Name": "Merge pull request #68171 from dixudx/fix_e2e_limitrange_update\n\nAutomatic merge from submit-queue (batch tested with PRs 68171, 67945, 68233). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\n[e2e] verifying LimitRange update is effective before creating new pod\n\n**What this PR does / why we need it**:\r\nRefer to the flaky test mentioned in #68170, LimitRange updating should be verified before creating new pod.\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nFixes #68170\r\n\r\n**Special notes for your reviewer**:\r\n/cc bsalamat k82cn \r\n/sig scheduling\r\n\r\n**Release note**:\r\n\r\n```release-note\r\n[e2e] verifying LimitRange update is effective before creating new pod\r\n```"}, {"Add": 175, "Del": 251, "Name": "Move CloudControllerManagerConfiguration from pkg/apis/componentconfig to cmd/cloud-controller-manager/app/apis/config"}, {"Add": 175, "Del": 251, "Name": "Move CloudControllerManagerConfiguration from pkg/apis/componentconfig to cmd/cloud-controller-manager/app/apis/config"}, {"Add": 17, "Del": 28, "Name": "Start using the new packages in the ccm"}, {"Add": 175, "Del": 251, "Name": "Move CloudControllerManagerConfiguration from pkg/apis/componentconfig to cmd/cloud-controller-manager/app/apis/config"}, {"Add": 17, "Del": 28, "Name": "Start using the new packages in the ccm"}, {"Add": 5, "Del": 6, "Name": "Ignore golint and update api violations"}, {"Add": 175, "Del": 251, "Name": "Move CloudControllerManagerConfiguration from pkg/apis/componentconfig to cmd/cloud-controller-manager/app/apis/config"}, {"Add": 17, "Del": 28, "Name": "Start using the new packages in the ccm"}, {"Add": 5, "Del": 6, "Name": "Ignore golint and update api violations"}, {"Add": 150, "Del": 168, "Name": "Move the flag registration code from pkg/apis/componentconfig to pkg/util/flag"}, {"Add": 175, "Del": 251, "Name": "Move CloudControllerManagerConfiguration from pkg/apis/componentconfig to cmd/cloud-controller-manager/app/apis/config"}, {"Add": 17, "Del": 28, "Name": "Start using the new packages in the ccm"}, {"Add": 5, "Del": 6, "Name": "Ignore golint and update api violations"}, {"Add": 150, "Del": 168, "Name": "Move the flag registration code from pkg/apis/componentconfig to pkg/util/flag"}, {"Add": 347, "Del": 453, "Name": "Merge pull request #68233 from luxas/ccm_cleanup\n\nAutomatic merge from submit-queue (batch tested with PRs 68171, 67945, 68233). If you want to cherry-pick this change to another branch, please follow the instructions here: https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md.\n\nMove the CloudControllerManagerConfiguration to an API group in `cmd/`\n\n**What this PR does / why we need it**:\r\nThis PR is the last piece of https://github.com/kubernetes/kubernetes/issues/67233.\r\nIt moves the `CloudControllerManagerConfiguration` to its own `cloudcontrollermanager.config.k8s.io` config API group, but unlike the other components this API group is \"private\" (only available in `k8s.io/kubernetes`, which limits consumer base), as it's located entirely in `cmd/` vs a staging repo.\r\nThis decision was made for now as we're not sure what the story for the ccm loading ComponentConfig files is, and probably a \"real\" file-loading ccm will never exist in core, only helper libraries. Eventually the ccm will only be a library in any case, and implementors will/can use the base types the ccm library API group provides. It's probably good to note that there is no practical implication of this change as the ccm **cannot** read ComponentConfig files. Hencec the code move isn't user-facing.\r\n\r\nWith this change, we're able to remove `pkg/apis/componentconfig`, as this was the last consumer. That is hence done in this PR as well (so the move is easily visible in git, vs first one \"big add\" then a \"big remove\"). The only piece of code that was used was the flag helper structs, so I moved them to `pkg/util/flag` that I think makes sense for now.\r\n\r\n**Which issue(s) this PR fixes** *(optional, in `fixes #<issue number>(, fixes #<issue_number>, ...)` format, will close the issue(s) when PR gets merged)*:\r\nref: kubernetes/community#2354\r\n\r\n**Special notes for your reviewer**:\r\n\r\nThis PR builds on top of (first two commits, marked as `Co-authored by: @stewart-yu`) https://github.com/kubernetes/kubernetes/pull/67689\r\n\r\n**Release note**:\r\n\r\n```release-note\r\nNONE\r\n```\r\n/assign @liggitt @sttts @thockin @stewart-yu"}, {"Add": 4, "Del": 4, "Name": "Bump version of fluentd with latest security fixes."}, {"Add": 4, "Del": 4, "Name": "Bump version of fluentd with latest security fixes."}, {"Add": 4, "Del": 4, "Name": "Merge pull request #67693 from loburm/fluentd_upgrade\n\nAutomatic merge from submit-queue.\n\nBump version of fluentd with latest security fixes.\n\n```release-note\r\n[fluentd-gcp addon] Bump version of fluentd-gcp to 2.0.18 to include latest security fixes.\r\n```"}]}]}